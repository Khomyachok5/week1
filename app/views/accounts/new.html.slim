| passwords do not match
= form_tag Hash.new, id: 'newAccountForm'
  = label '', '', 'E-mail'
  = email_field '', ''
  = label 'account', 'password', 'Password'
  = password_field 'account', 'password'
  = label 'account', 'password_confirmation', 'Password confirmation'
  = password_field 'account', 'password_confirmation'
  = label 'account', 'subdomain', 'Sub-domain name'
  = text_field 'account', 'subdomain'
  = submit_tag 'Create Account', disabled: true, id: 'btnCreateAccount'

javascript:
  function IsEmail(email) {
    var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
    return regex.test(email);
  }

  $(document).ready(function () {
    $('#newAccountForm input').on('keyup blur', function () {
        if ($('#_').val().length > 0 &&
            IsEmail($('#_').val()) &&
            $('#account_password').val().length > 0 &&
            $('#account_password_confirmation').val().length > 0 &&
            $('#account_password').val() == $('#account_password_confirmation').val() &&
            $('#account_subdomain').val().length > 0) {
            $('#btnCreateAccount').prop('disabled', false);
        } else {
            $('#btnCreateAccount').prop('disabled', 'disabled');
        }
    });
  });
